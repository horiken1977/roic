
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROICåˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸</title>
    <style>
        
        :root {
            --primary-color: #3182ce;
            --accent-color: #4299e1;
            --success-color: #48bb78;
            --warning-color: #ed8936;
            --error-color: #f56565;
            --bg-color: #f7fafc;
            --text-color: #2d3748;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .last-update {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .section {
            margin: 32px 0;
        }
        
        .section h2 {
            font-size: 24px;
            margin-bottom: 16px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 8px;
        }
        
        .content {
            background: white;
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            line-height: 1.7;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            color: #718096;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            .header h1 {
                font-size: 24px;
            }
            .suite-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .suite-stats {
                margin-top: 8px;
            }
        }
    
        .test-suite {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 16px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .suite-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e2e8f0;
        }
        .suite-name {
            font-size: 20px;
            font-weight: 600;
            color: #2d3748;
        }
        .suite-stats {
            display: flex;
            gap: 16px;
            font-size: 14px;
        }
        .stat-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .stat-passed { color: #22543d; }
        .stat-failed { color: #c53030; }
        .stat-total { color: #4a5568; }
        .coverage-badge {
            background: linear-gradient(90deg, #48bb78, #38a169);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }
        .test-item {
            background: #f7fafc;
            padding: 12px;
            border-radius: 6px;
            border-left: 3px solid #e2e8f0;
        }
        .test-item.passed {
            border-left-color: #48bb78;
            background: #f0fff4;
        }
        .test-item.failed {
            border-left-color: #f56565;
            background: #fffafa;
        }
        .real-time-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4299e1;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="real-time-indicator pulse">
        ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ä¸­
    </div>

    <div class="container">
        <header class="header">
            <h1>ROICåˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸</h1>
            <div class="last-update">æœ€çµ‚æ›´æ–°: 2025/7/4 12:48:28</div>
        </header>

        <div class="section">
            <h2>ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆå®Ÿè¡ŒçŠ¶æ³</h2>
            
            <div class="test-suite">
                <div class="suite-header">
                    <div class="suite-name">Unit Tests (0 files)</div>
                    <div class="suite-stats">
                        <div class="stat-item stat-passed">
                            âœ… 0
                        </div>
                        <div class="stat-item stat-failed">
                            âŒ 0
                        </div>
                        <div class="stat-item stat-total">
                            ğŸ“Š 0 total
                        </div>
                        {{#if coverage}}
                        <div class="coverage-badge">14.07% ã‚«ãƒãƒ¬ãƒƒã‚¸</div>
                        {{/if}}
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" style="width: {{#if tests}}{{#divide passed tests}}{{/divide}}{{else}}0{{/if}}%"></div>
                </div>
                
                <div style="margin-top: 8px; font-size: 12px; color: #718096;">
                    æˆåŠŸç‡: {{#if tests}}{{#percentage passed tests}}{{/percentage}}{{else}}0{{/if}}%
                </div>
            </div>
            
            <div class="test-suite">
                <div class="suite-header">
                    <div class="suite-name">E2E Tests (0 files)</div>
                    <div class="suite-stats">
                        <div class="stat-item stat-passed">
                            âœ… 0
                        </div>
                        <div class="stat-item stat-failed">
                            âŒ 0
                        </div>
                        <div class="stat-item stat-total">
                            ğŸ“Š 0 total
                        </div>
                        {{#if coverage}}
                        <div class="coverage-badge">{{coverage}}% ã‚«ãƒãƒ¬ãƒƒã‚¸</div>
                        {{/if}}
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" style="width: {{#if tests}}{{#divide passed tests}}{{/divide}}{{else}}0{{/if}}%"></div>
                </div>
                
                <div style="margin-top: 8px; font-size: 12px; color: #718096;">
                    æˆåŠŸç‡: {{#if tests}}{{#percentage passed tests}}{{/percentage}}{{else}}0{{/if}}%
                </div>
            </div>
            
        </div>

        <div class="section">
            <h2>è©³ç´°é€²æ—çŠ¶æ³</h2>
            <div class="test-grid">
                
                <div class="test-item passed">
                    <strong>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ</strong>
                    <div>React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ</div>
                    <div style="font-size: 12px; color: #718096; margin-top: 4px;">
                        0/0 å®Œäº† (0%)
                    </div>
                </div>
                
                <div class="test-item passed">
                    <strong>E2Eã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆ</strong>
                    <div>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ã®æ¤œè¨¼</div>
                    <div style="font-size: 12px; color: #718096; margin-top: 4px;">
                        0/0 å®Œäº† (0%)
                    </div>
                </div>
                
                <div class="test-item passed">
                    <strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</strong>
                    <div>å¿œç­”æ™‚é–“ã¨ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã®æ¤œè¨¼</div>
                    <div style="font-size: 12px; color: #718096; margin-top: 4px;">
                        0/0 å®Œäº† (0%)
                    </div>
                </div>
                
                <div class="test-item passed">
                    <strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</strong>
                    <div>è„†å¼±æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ›ãƒ¼ãƒ«ã®æ¤œè¨¼</div>
                    <div style="font-size: 12px; color: #718096; margin-top: 4px;">
                        1/1 å®Œäº† (100%)
                    </div>
                </div>
                
            </div>
        </div>

        <div class="section">
            <h2>ãƒ†ã‚¹ãƒˆä»•æ§˜è©³ç´°</h2>
            <div class="content">
                {<p><h1>ROICåˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸</h1></p><p><h2>ğŸ“‹ æ–‡æ›¸æƒ…å ±</h2></p><p>| é …ç›® | å†…å®¹ |</p></p>
<p>|------|------|</p></p>
<p>| æ–‡æ›¸å | ROICåˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ |</p></p>
<p>| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | 1.0 |</p></p>
<p>| ä½œæˆæ—¥ | 2025å¹´7æœˆ1æ—¥ |</p></p>
<p>| æ›´æ–°æ—¥ | 2025å¹´7æœˆ1æ—¥ |</p></p>
<p>| é–¢é€£æ–‡æ›¸ | ãƒ†ã‚¹ãƒˆè¨ˆç”»æ›¸ v1.0 |</p><p><h2>ğŸ¯ ãƒ†ã‚¹ãƒˆä»•æ§˜æ¦‚è¦</h2></p><p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ROICåˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…·ä½“çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã€æœŸå¾…çµæœã‚’å®šç¾©ã—ã¾ã™ã€‚</p><p><h2>ğŸ§ª ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ãƒ†ã‚¹ãƒˆä»•æ§˜</h2></p><p><h3>1. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ (/) ãƒ†ã‚¹ãƒˆ</h3></p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: HP-001 åŸºæœ¬è¡¨ç¤ºãƒ†ã‚¹ãƒˆ</p></p>
<p><code></code>`typescript</p></p>
<p>describe('Homepage Display Tests', () => {</p></p>
<p>  test('HP-001: Should display main heading and description', async () => {</p></p>
<p>    // Given: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹</p></p>
<p>    render(<HomePage />)</p></p>
<p>    </p></p>
<p>    // When: ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹</p></p>
<p>    </p></p>
<p>    // Then: ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    expect(screen.getByRole('heading', { name: /ROICåˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³/i })).toBeInTheDocument()</p></p>
<p>    </p></p>
<p>    // And: èª¬æ˜æ–‡ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    expect(screen.getByText(/æ—¥ç³»ä¸Šå ´ä¼æ¥­ã®ROIC/i)).toBeInTheDocument()</p></p>
<p>    </p></p>
<p>    // And: ä¸»è¦æ©Ÿèƒ½ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    expect(screen.getByText('ROICè‡ªå‹•è¨ˆç®—ï¼ˆ4ã¤ã®è¨ˆç®—æ–¹å¼å¯¾å¿œï¼‰')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('ä¼æ¥­æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('æ¥­ç•Œå†…æ¯”è¼ƒãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('ãƒˆãƒ¬ãƒ³ãƒ‰ãƒãƒ£ãƒ¼ãƒˆãƒ»å¯è¦–åŒ–')).toBeInTheDocument()</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: HP-002 ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ</p></p>
<p><code></code>`typescript</p></p>
<p>test('HP-002: Should navigate to correct pages via navigation links', async () => {</p></p>
<p>  // Given: ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹</p></p>
<p>  render(<RootLayout><HomePage /></RootLayout>)</p></p>
<p>  </p></p>
<p>  // When: ä¼æ¥­æ¤œç´¢ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯</p></p>
<p>  const companiesLink = screen.getByRole('link', { name: /ä¼æ¥­æ¤œç´¢/i })</p></p>
<p>  await userEvent.click(companiesLink)</p></p>
<p>  </p></p>
<p>  // Then: ä¼æ¥­æ¤œç´¢ãƒšãƒ¼ã‚¸ã«é·ç§»ã™ã‚‹</p></p>
<p>  expect(window.location.pathname).toBe('/companies')</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h3>2. ä¼æ¥­æ¤œç´¢ãƒšãƒ¼ã‚¸ (/companies) ãƒ†ã‚¹ãƒˆ</h3></p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: CS-001 æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ åŸºæœ¬æ©Ÿèƒ½</p></p>
<p><code></code>`typescript</p></p>
<p>describe('Company Search Form Tests', () => {</p></p>
<p>  test('CS-001: Should accept search input and trigger search', async () => {</p></p>
<p>    // Given: ä¼æ¥­æ¤œç´¢ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹</p></p>
<p>    render(<CompaniesPage />)</p></p>
<p>    </p></p>
<p>    // When: æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä¼æ¥­åã‚’å…¥åŠ›</p></p>
<p>    const searchInput = screen.getByPlaceholderText('ä¼æ¥­åã§æ¤œç´¢...')</p></p>
<p>    await userEvent.type(searchInput, 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š')</p></p>
<p>    </p></p>
<p>    // Then: å…¥åŠ›å€¤ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    expect(searchInput).toHaveValue('ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š')</p></p>
<p>    </p></p>
<p>    // When: æ¤œç´¢ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</p></p>
<p>    const searchButton = screen.getByRole('button', { name: 'æ¤œç´¢' })</p></p>
<p>    await userEvent.click(searchButton)</p></p>
<p>    </p></p>
<p>    // Then: æ¤œç´¢APIãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ (ãƒ¢ãƒƒã‚¯ç¢ºèª)</p></p>
<p>    expect(mockSearchAPI).toHaveBeenCalledWith({</p></p>
<p>      name: 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š',</p></p>
<p>      page: 1,</p></p>
<p>      limit: 20</p></p>
<p>    })</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: CS-002 ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½</p></p>
<p><code></code>`typescript</p></p>
<p>test('CS-002: Should filter companies by industry and market', async () => {</p></p>
<p>  // Given: ä¼æ¥­æ¤œç´¢ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹</p></p>
<p>  render(<CompaniesPage />)</p></p>
<p>  </p></p>
<p>  // When: æ¥­ç•Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é¸æŠ</p></p>
<p>  const industrySelect = screen.getByDisplayValue('æ¥­ç•Œã‚’é¸æŠ')</p></p>
<p>  await userEvent.selectOptions(industrySelect, 'manufacturing')</p></p>
<p>  </p></p>
<p>  // And: å¸‚å ´ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é¸æŠ</p></p>
<p>  const marketSelect = screen.getByDisplayValue('å¸‚å ´ã‚’é¸æŠ')</p></p>
<p>  await userEvent.selectOptions(marketSelect, 'prime')</p></p>
<p>  </p></p>
<p>  // And: æ¤œç´¢ã‚’å®Ÿè¡Œ</p></p>
<p>  const searchButton = screen.getByRole('button', { name: 'æ¤œç´¢' })</p></p>
<p>  await userEvent.click(searchButton)</p></p>
<p>  </p></p>
<p>  // Then: ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ä»˜ãã§æ¤œç´¢APIãŒå‘¼ã³å‡ºã•ã‚Œã‚‹</p></p>
<p>  expect(mockSearchAPI).toHaveBeenCalledWith({</p></p>
<p>    name: '',</p></p>
<p>    industry: 'manufacturing',</p></p>
<p>    market: 'prime',</p></p>
<p>    page: 1,</p></p>
<p>    limit: 20</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: CS-003 æ¤œç´¢çµæœè¡¨ç¤º</p></p>
<p><code></code>`typescript</p></p>
<p>test('CS-003: Should display search results correctly', async () => {</p></p>
<p>  // Given: æ¤œç´¢çµæœã®ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</p></p>
<p>  const mockResults = [</p></p>
<p>    {</p></p>
<p>      id: '1',</p></p>
<p>      name: 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Šæ ªå¼ä¼šç¤¾',</p></p>
<p>      ticker_symbol: '7203',</p></p>
<p>      industry: 'è¼¸é€ç”¨æ©Ÿå™¨',</p></p>
<p>      market: 'ãƒ—ãƒ©ã‚¤ãƒ å¸‚å ´'</p></p>
<p>    },</p></p>
<p>    {</p></p>
<p>      id: '2', </p></p>
<p>      name: 'æœ¬ç”°æŠ€ç ”å·¥æ¥­æ ªå¼ä¼šç¤¾',</p></p>
<p>      ticker_symbol: '7267',</p></p>
<p>      industry: 'è¼¸é€ç”¨æ©Ÿå™¨',</p></p>
<p>      market: 'ãƒ—ãƒ©ã‚¤ãƒ å¸‚å ´'</p></p>
<p>    }</p></p>
<p>  ]</p></p>
<p>  mockSearchAPI.mockResolvedValueOnce({ data: mockResults })</p></p>
<p>  </p></p>
<p>  // When: æ¤œç´¢ã‚’å®Ÿè¡Œ</p></p>
<p>  render(<CompaniesPage />)</p></p>
<p>  const searchButton = screen.getByRole('button', { name: 'æ¤œç´¢' })</p></p>
<p>  await userEvent.click(searchButton)</p></p>
<p>  </p></p>
<p>  // Then: æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>  await waitFor(() => {</p></p>
<p>    expect(screen.getByText('ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Šæ ªå¼ä¼šç¤¾')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('æœ¬ç”°æŠ€ç ”å·¥æ¥­æ ªå¼ä¼šç¤¾')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('7203')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('7267')).toBeInTheDocument()</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h3>3. ROICãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (/dashboard) ãƒ†ã‚¹ãƒˆ</h3></p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: DB-001 çµ±è¨ˆæƒ…å ±è¡¨ç¤º</p></p>
<p><code></code>`typescript</p></p>
<p>describe('ROIC Dashboard Tests', () => {</p></p>
<p>  test('DB-001: Should display statistics cards with correct data', async () => {</p></p>
<p>    // Given: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®ãƒ¢ãƒƒã‚¯ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</p></p>
<p>    const mockStats = {</p></p>
<p>      totalCompanies: 3847,</p></p>
<p>      averageROIC: 8.5,</p></p>
<p>      lastUpdated: '2025/07/01'</p></p>
<p>    }</p></p>
<p>    mockDashboardAPI.mockResolvedValueOnce({ data: mockStats })</p></p>
<p>    </p></p>
<p>    // When: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹</p></p>
<p>    render(<DashboardPage />)</p></p>
<p>    </p></p>
<p>    // Then: çµ±è¨ˆæƒ…å ±ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    await waitFor(() => {</p></p>
<p>      expect(screen.getByText('3,847')).toBeInTheDocument()</p></p>
<p>      expect(screen.getByText('8.5%')).toBeInTheDocument()</p></p>
<p>      expect(screen.getByText('2025/07/01')).toBeInTheDocument()</p></p>
<p>    })</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: DB-002 ROICä¸Šä½ä¼æ¥­ãƒ†ãƒ¼ãƒ–ãƒ«</p></p>
<p><code></code>`typescript</p></p>
<p>test('DB-002: Should display top ROIC companies table', async () => {</p></p>
<p>  // Given: ä¸Šä½ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ã®ãƒ¢ãƒƒã‚¯ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</p></p>
<p>  const mockTopCompanies = [</p></p>
<p>    { rank: 1, name: 'ã‚µãƒ³ãƒ—ãƒ«ä¼æ¥­A', industry: 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼', roic: 25.3 },</p></p>
<p>    { rank: 2, name: 'ã‚µãƒ³ãƒ—ãƒ«ä¼æ¥­B', industry: 'ãƒ˜ãƒ«ã‚¹ã‚±ã‚¢', roic: 22.1 },</p></p>
<p>    { rank: 3, name: 'ã‚µãƒ³ãƒ—ãƒ«ä¼æ¥­C', industry: 'æ¶ˆè²»è²¡', roic: 19.8 }</p></p>
<p>  ]</p></p>
<p>  mockTopCompaniesAPI.mockResolvedValueOnce({ data: mockTopCompanies })</p></p>
<p>  </p></p>
<p>  // When: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹</p></p>
<p>  render(<DashboardPage />)</p></p>
<p>  </p></p>
<p>  // Then: ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>  expect(screen.getByText('é †ä½')).toBeInTheDocument()</p></p>
<p>  expect(screen.getByText('ä¼æ¥­å')).toBeInTheDocument()</p></p>
<p>  expect(screen.getByText('æ¥­ç•Œ')).toBeInTheDocument()</p></p>
<p>  expect(screen.getByText('ROIC')).toBeInTheDocument()</p></p>
<p>  </p></p>
<p>  // And: ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>  await waitFor(() => {</p></p>
<p>    expect(screen.getByText('ã‚µãƒ³ãƒ—ãƒ«ä¼æ¥­A')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('25.3%')).toBeInTheDocument()</p></p>
<p>    expect(screen.getByText('ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼')).toBeInTheDocument()</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h2>ğŸ”§ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API ãƒ†ã‚¹ãƒˆä»•æ§˜</h2></p><p><h3>1. ä¼æ¥­æ¤œç´¢API ãƒ†ã‚¹ãƒˆ</h3></p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: API-001 ä¼æ¥­ä¸€è¦§å–å¾—</p></p>
<p><code></code>`typescript</p></p>
<p>describe('Companies API Tests', () => {</p></p>
<p>  test('API-001: GET /api/companies should return companies list', async () => {</p></p>
<p>    // Given: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹</p></p>
<p>    await seedDatabase([</p></p>
<p>      { name: 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š', ticker_symbol: '7203', industry: 'è¼¸é€ç”¨æ©Ÿå™¨' },</p></p>
<p>      { name: 'ã‚½ãƒ‹ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—', ticker_symbol: '6758', industry: 'é›»æ°—æ©Ÿå™¨' }</p></p>
<p>    ])</p></p>
<p>    </p></p>
<p>    // When: ä¼æ¥­ä¸€è¦§APIã‚’å‘¼ã³å‡ºã™</p></p>
<p>    const response = await request(app)</p></p>
<p>      .get('/api/companies')</p></p>
<p>      .expect(200)</p></p>
<p>    </p></p>
<p>    // Then: æ­£ã—ã„å½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ãŒè¿”ã•ã‚Œã‚‹</p></p>
<p>    expect(response.body).toMatchObject({</p></p>
<p>      success: true,</p></p>
<p>      data: expect.arrayContaining([</p></p>
<p>        expect.objectContaining({</p></p>
<p>          name: 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š',</p></p>
<p>          ticker_symbol: '7203',</p></p>
<p>          industry: 'è¼¸é€ç”¨æ©Ÿå™¨'</p></p>
<p>        })</p></p>
<p>      ])</p></p>
<p>    })</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: API-002 ä¼æ¥­æ¤œç´¢ï¼ˆã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰</p></p>
<p><code></code>`typescript</p></p>
<p>test('API-002: GET /api/companies with search parameters', async () => {</p></p>
<p>  // Given: è¤‡æ•°ã®ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹</p></p>
<p>  await seedDatabase([</p></p>
<p>    { name: 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š', industry: 'è¼¸é€ç”¨æ©Ÿå™¨', market: 'prime' },</p></p>
<p>    { name: 'ã‚½ãƒ‹ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—', industry: 'é›»æ°—æ©Ÿå™¨', market: 'prime' },</p></p>
<p>    { name: 'ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—A', industry: 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼', market: 'growth' }</p></p>
<p>  ])</p></p>
<p>  </p></p>
<p>  // When: æ¥­ç•Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§æ¤œç´¢</p></p>
<p>  const response = await request(app)</p></p>
<p>    .get('/api/companies')</p></p>
<p>    .query({ industry: 'è¼¸é€ç”¨æ©Ÿå™¨', market: 'prime' })</p></p>
<p>    .expect(200)</p></p>
<p>  </p></p>
<p>  // Then: ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ã«åˆè‡´ã™ã‚‹ä¼æ¥­ã®ã¿è¿”ã•ã‚Œã‚‹</p></p>
<p>  expect(response.body.data).toHaveLength(1)</p></p>
<p>  expect(response.body.data[0].name).toBe('ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š')</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h3>2. ROICè¨ˆç®—API ãƒ†ã‚¹ãƒˆ</h3></p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: API-003 ROICè¨ˆç®—</p></p>
<p><code></code>`typescript</p></p>
<p>describe('ROIC Calculation API Tests', () => {</p></p>
<p>  test('API-003: POST /api/roic/calculate/:id should calculate ROIC correctly', async () => {</p></p>
<p>    // Given: ä¼æ¥­ã®è²¡å‹™ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹</p></p>
<p>    const companyId = 'company-123'</p></p>
<p>    await seedFinancialData(companyId, {</p></p>
<p>      fiscal_year: 2023,</p></p>
<p>      revenue: 100000000000, // 10å…†å††</p></p>
<p>      operating_income: 5000000000, // 5000å„„å††</p></p>
<p>      total_assets: 50000000000, // 5å…†å††</p></p>
<p>      total_debt: 20000000000 // 2å…†å††</p></p>
<p>    })</p></p>
<p>    </p></p>
<p>    // When: ROICè¨ˆç®—APIã‚’å‘¼ã³å‡ºã™</p></p>
<p>    const response = await request(app)</p></p>
<p>      .post(<code>/api/roic/calculate/${companyId}</code>)</p></p>
<p>      .send({ </p></p>
<p>        fiscal_year: 2023,</p></p>
<p>        calculation_method: 'standard'</p></p>
<p>      })</p></p>
<p>      .expect(200)</p></p>
<p>    </p></p>
<p>    // Then: æ­£ã—ãROICãŒè¨ˆç®—ã•ã‚Œã‚‹</p></p>
<p>    expect(response.body).toMatchObject({</p></p>
<p>      success: true,</p></p>
<p>      data: expect.objectContaining({</p></p>
<p>        company_id: companyId,</p></p>
<p>        fiscal_year: 2023,</p></p>
<p>        roic_percentage: expect.any(Number),</p></p>
<p>        calculation_method: 'standard'</p></p>
<p>      })</p></p>
<p>    })</p></p>
<p>    </p></p>
<p>    // And: ROICå€¤ãŒå¦¥å½“ãªç¯„å›²å†…ã§ã‚ã‚‹</p></p>
<p>    expect(response.body.data.roic_percentage).toBeGreaterThan(0)</p></p>
<p>    expect(response.body.data.roic_percentage).toBeLessThan(100)</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p>#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: API-004 è¨ˆç®—æ–¹å¼åˆ¥ROIC</p></p>
<p><code></code>`typescript</p></p>
<p>test('API-004: Different calculation methods should yield different results', async () => {</p></p>
<p>  const companyId = 'company-123'</p></p>
<p>  </p></p>
<p>  // When: ç•°ãªã‚‹è¨ˆç®—æ–¹å¼ã§ROICã‚’è¨ˆç®—</p></p>
<p>  const standardResponse = await request(app)</p></p>
<p>    .post(<code>/api/roic/calculate/${companyId}</code>)</p></p>
<p>    .send({ calculation_method: 'standard' })</p></p>
<p>  </p></p>
<p>  const adjustedResponse = await request(app)</p></p>
<p>    .post(<code>/api/roic/calculate/${companyId}</code>)</p></p>
<p>    .send({ calculation_method: 'adjusted' })</p></p>
<p>  </p></p>
<p>  // Then: ç•°ãªã‚‹çµæœãŒè¿”ã•ã‚Œã‚‹</p></p>
<p>  expect(standardResponse.body.data.roic_percentage)</p></p>
<p>    .not.toBe(adjustedResponse.body.data.roic_percentage)</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h2>ğŸ­ E2Eãƒ†ã‚¹ãƒˆä»•æ§˜</h2></p><p><h3>ã‚·ãƒŠãƒªã‚ª: E2E-001 å®Œå…¨ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼</h3></p></p>
<p><code></code>`typescript</p></p>
<p>describe('Complete User Journey E2E Tests', () => {</p></p>
<p>  test('E2E-001: User should be able to search companies and view ROIC data', async ({ page }) => {</p></p>
<p>    // Given: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«èµ·å‹•ã—ã¦ã„ã‚‹</p></p>
<p>    await page.goto('http://localhost:3000')</p></p>
<p>    </p></p>
<p>    // When: ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ç§»å‹•</p></p>
<p>    await page.click('text=ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰')</p></p>
<p>    </p></p>
<p>    // Then: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    await expect(page.locator('h1')).toContainText('ROICãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰')</p></p>
<p>    </p></p>
<p>    // When: ä¼æ¥­æ¤œç´¢ãƒšãƒ¼ã‚¸ã«ç§»å‹•</p></p>
<p>    await page.click('text=ä¼æ¥­æ¤œç´¢')</p></p>
<p>    </p></p>
<p>    // Then: æ¤œç´¢ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    await expect(page.locator('h1')).toContainText('ä¼æ¥­æ¤œç´¢')</p></p>
<p>    </p></p>
<p>    // When: ä¼æ¥­åã‚’æ¤œç´¢</p></p>
<p>    await page.fill('input[placeholder="ä¼æ¥­åã§æ¤œç´¢..."]', 'ãƒˆãƒ¨ã‚¿')</p></p>
<p>    await page.click('button:has-text("æ¤œç´¢")')</p></p>
<p>    </p></p>
<p>    // Then: æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    await expect(page.locator('[data-testid="search-results"]')).toBeVisible()</p></p>
<p>    </p></p>
<p>    // When: ä¼æ¥­è©³ç´°ã‚’ã‚¯ãƒªãƒƒã‚¯</p></p>
<p>    await page.click('text=ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š')</p></p>
<p>    </p></p>
<p>    // Then: ä¼æ¥­è©³ç´°ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>    await expect(page.locator('[data-testid="roic-value"]')).toBeVisible()</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h3>ã‚·ãƒŠãƒªã‚ª: E2E-002 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h3></p></p>
<p><code></code>`typescript</p></p>
<p>test('E2E-002: Application should load within performance thresholds', async ({ page }) => {</p></p>
<p>  // Given: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šã‚’é–‹å§‹</p></p>
<p>  const startTime = Date.now()</p></p>
<p>  </p></p>
<p>  // When: ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹</p></p>
<p>  await page.goto('http://localhost:3000')</p></p>
<p>  </p></p>
<p>  // Then: 2ç§’ä»¥å†…ã«èª­ã¿è¾¼ã¿ãŒå®Œäº†ã™ã‚‹</p></p>
<p>  await expect(page.locator('h1')).toBeVisible()</p></p>
<p>  const loadTime = Date.now() - startTime</p></p>
<p>  expect(loadTime).toBeLessThan(2000)</p></p>
<p>  </p></p>
<p>  // When: ä¼æ¥­æ¤œç´¢ã‚’å®Ÿè¡Œ</p></p>
<p>  await page.goto('http://localhost:3000/companies')</p></p>
<p>  await page.fill('input[placeholder="ä¼æ¥­åã§æ¤œç´¢..."]', 'ãƒˆ')</p></p>
<p>  </p></p>
<p>  const searchStartTime = Date.now()</p></p>
<p>  await page.click('button:has-text("æ¤œç´¢")')</p></p>
<p>  </p></p>
<p>  // Then: æ¤œç´¢çµæœãŒ1ç§’ä»¥å†…ã«è¡¨ç¤ºã•ã‚Œã‚‹</p></p>
<p>  await expect(page.locator('[data-testid="search-results"]')).toBeVisible()</p></p>
<p>  const searchTime = Date.now() - searchStartTime</p></p>
<p>  expect(searchTime).toBeLessThan(1000)</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h2>ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆä»•æ§˜</h2></p><p><h3>è² è·ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª: PERF-001</h3></p></p>
<p><code></code>`yaml</p></p>
<p><h1>Artillery.ioè¨­å®š</h1></p></p>
<p>config:</p></p>
<p>  target: 'http://localhost:3000'</p></p>
<p>  phases:</p></p>
<p>    - duration: 60</p></p>
<p>      arrivalRate: 10  # 10 users per second</p></p>
<p>    - duration: 120</p></p>
<p>      arrivalRate: 50  # 50 users per second</p></p>
<p>    - duration: 60</p></p>
<p>      arrivalRate: 100 # 100 users per second</p><p>scenarios:</p></p>
<p>  - name: "Homepage Load Test"</p></p>
<p>    weight: 30</p></p>
<p>    flow:</p></p>
<p>      - get:</p></p>
<p>          url: "/"</p></p>
<p>          </p></p>
<p>  - name: "Company Search Test"</p></p>
<p>    weight: 50</p></p>
<p>    flow:</p></p>
<p>      - get:</p></p>
<p>          url: "/companies"</p></p>
<p>      - post:</p></p>
<p>          url: "/api/companies/search"</p></p>
<p>          json:</p></p>
<p>            name: "{{ $randomString() }}"</p></p>
<p>            </p></p>
<p>  - name: "ROIC Dashboard Test"</p></p>
<p>    weight: 20</p></p>
<p>    flow:</p></p>
<p>      - get:</p></p>
<p>          url: "/dashboard"</p></p>
<p>      - get:</p></p>
<p>          url: "/api/roic/rankings"</p></p>
<p><code></code>`</p><p><h3>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœŸå¾…å€¤</h3></p></p>
<p><code></code>`typescript</p></p>
<p>describe('Performance Expectations', () => {</p></p>
<p>  test('PERF-001: Response time should meet SLA requirements', () => {</p></p>
<p>    const expectations = {</p></p>
<p>      homepage: { maxResponseTime: 2000, target: 1500 },</p></p>
<p>      search: { maxResponseTime: 1000, target: 500 },</p></p>
<p>      roicCalculation: { maxResponseTime: 3000, target: 2000 },</p></p>
<p>      dashboard: { maxResponseTime: 2000, target: 1000 }</p></p>
<p>    }</p></p>
<p>    </p></p>
<p>    // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¾Œã«ä¸Šè¨˜æœŸå¾…å€¤ã¨å®Ÿæ¸¬å€¤ã‚’æ¯”è¼ƒ</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h2>ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆä»•æ§˜</h2></p><p><h3>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: SEC-001</h3></p></p>
<p><code></code>`typescript</p></p>
<p>describe('Security Tests', () => {</p></p>
<p>  test('SEC-001: Should prevent SQL injection attacks', async () => {</p></p>
<p>    // Given: SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ”»æ’ƒãƒ‘ã‚¿ãƒ¼ãƒ³</p></p>
<p>    const maliciousInputs = [</p></p>
<p>      "'; DROP TABLE companies; --",</p></p>
<p>      "1' OR '1'='1",</p></p>
<p>      "admin'/*",</p></p>
<p>      "' UNION SELECT * FROM users --"</p></p>
<p>    ]</p></p>
<p>    </p></p>
<p>    // When: å„æ”»æ’ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ¤œç´¢APIå‘¼ã³å‡ºã—</p></p>
<p>    for (const input of maliciousInputs) {</p></p>
<p>      const response = await request(app)</p></p>
<p>        .get('/api/companies/search')</p></p>
<p>        .query({ name: input })</p></p>
<p>      </p></p>
<p>      // Then: æ”»æ’ƒãŒæˆåŠŸã›ãšã€é€šå¸¸ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã•ã‚Œã‚‹</p></p>
<p>      expect(response.status).toBeLessThan(500)</p></p>
<p>      expect(response.body).not.toContainEqual(</p></p>
<p>        expect.objectContaining({ </p></p>
<p>          error: expect.stringContaining('SQL') </p></p>
<p>        })</p></p>
<p>      )</p></p>
<p>    }</p></p>
<p>  })</p></p>
<p>  </p></p>
<p>  test('SEC-002: Should validate input parameters', async () => {</p></p>
<p>    // When: ç„¡åŠ¹ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§APIå‘¼ã³å‡ºã—</p></p>
<p>    const response = await request(app)</p></p>
<p>      .get('/api/companies')</p></p>
<p>      .query({ </p></p>
<p>        page: -1,</p></p>
<p>        limit: 10000,</p></p>
<p>        industry: '<script>alert("xss")</script>'</p></p>
<p>      })</p></p>
<p>    </p></p>
<p>    // Then: é©åˆ‡ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¿”ã•ã‚Œã‚‹</p></p>
<p>    expect(response.status).toBe(400)</p></p>
<p>    expect(response.body.error).toContain('Validation error')</p></p>
<p>  })</p></p>
<p>})</p></p>
<p><code></code>`</p><p><h2>ğŸ”§ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä»•æ§˜</h2></p><p><h3>ãƒã‚¹ã‚¿ãƒ¼ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿</h3></p></p>
<p><code></code>`typescript</p></p>
<p>export const testCompanies = [</p></p>
<p>  {</p></p>
<p>    id: 'toyota-7203',</p></p>
<p>    name: 'ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Šæ ªå¼ä¼šç¤¾',</p></p>
<p>    ticker_symbol: '7203',</p></p>
<p>    industry: 'è¼¸é€ç”¨æ©Ÿå™¨',</p></p>
<p>    market: 'ãƒ—ãƒ©ã‚¤ãƒ å¸‚å ´',</p></p>
<p>    founded_year: 1937,</p></p>
<p>    employee_count: 366283,</p></p>
<p>    website: 'https://toyota.jp',</p></p>
<p>    is_active: true</p></p>
<p>  },</p></p>
<p>  {</p></p>
<p>    id: 'sony-6758',</p></p>
<p>    name: 'ã‚½ãƒ‹ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—æ ªå¼ä¼šç¤¾',</p></p>
<p>    ticker_symbol: '6758',</p></p>
<p>    industry: 'é›»æ°—æ©Ÿå™¨',</p></p>
<p>    market: 'ãƒ—ãƒ©ã‚¤ãƒ å¸‚å ´',</p></p>
<p>    founded_year: 1946,</p></p>
<p>    employee_count: 109700,</p></p>
<p>    website: 'https://sony.com',</p></p>
<p>    is_active: true</p></p>
<p>  }</p></p>
<p>]</p><p>export const testFinancialData = [</p></p>
<p>  {</p></p>
<p>    company_id: 'toyota-7203',</p></p>
<p>    fiscal_year: 2023,</p></p>
<p>    fiscal_period: 'annual',</p></p>
<p>    revenue: 31174600000000, // 31.17å…†å††</p></p>
<p>    operating_income: 3085200000000, // 3.08å…†å††</p></p>
<p>    net_income: 2449800000000, // 2.44å…†å††</p></p>
<p>    total_assets: 36552300000000, // 36.55å…†å††</p></p>
<p>    total_equity: 16004900000000, // 16.00å…†å††</p></p>
<p>    total_debt: 15555100000000, // 15.55å…†å††</p></p>
<p>    filing_date: '2023-06-14'</p></p>
<p>  }</p></p>
<p>]</p></p>
<p><code></code>`</p><p><h3>å‹•çš„ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ</h3></p></p>
<p><code></code>`typescript</p></p>
<p>export class TestDataFactory {</p></p>
<p>  static generateCompany(overrides = {}) {</p></p>
<p>    return {</p></p>
<p>      id: faker.datatype.uuid(),</p></p>
<p>      name: faker.company.name() + 'æ ªå¼ä¼šç¤¾',</p></p>
<p>      ticker_symbol: faker.datatype.number({ min: 1000, max: 9999 }).toString(),</p></p>
<p>      industry: faker.helpers.arrayElement([</p></p>
<p>        'è¼¸é€ç”¨æ©Ÿå™¨', 'é›»æ°—æ©Ÿå™¨', 'æ©Ÿæ¢°', 'åŒ–å­¦', 'é£Ÿæ–™å“'</p></p>
<p>      ]),</p></p>
<p>      market: faker.helpers.arrayElement([</p></p>
<p>        'ãƒ—ãƒ©ã‚¤ãƒ å¸‚å ´', 'ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰å¸‚å ´', 'ã‚°ãƒ­ãƒ¼ã‚¹å¸‚å ´'</p></p>
<p>      ]),</p></p>
<p>      founded_year: faker.datatype.number({ min: 1950, max: 2020 }),</p></p>
<p>      employee_count: faker.datatype.number({ min: 100, max: 500000 }),</p></p>
<p>      is_active: true,</p></p>
<p>      ...overrides</p></p>
<p>    }</p></p>
<p>  }</p></p>
<p>  </p></p>
<p>  static generateFinancialData(companyId, overrides = {}) {</p></p>
<p>    return {</p></p>
<p>      company_id: companyId,</p></p>
<p>      fiscal_year: 2023,</p></p>
<p>      fiscal_period: 'annual',</p></p>
<p>      revenue: faker.datatype.number({ min: 1000000000, max: 10000000000000 }),</p></p>
<p>      operating_income: faker.datatype.number({ min: 100000000, max: 1000000000000 }),</p></p>
<p>      net_income: faker.datatype.number({ min: 50000000, max: 500000000000 }),</p></p>
<p>      total_assets: faker.datatype.number({ min: 1000000000, max: 50000000000000 }),</p></p>
<p>      total_equity: faker.datatype.number({ min: 500000000, max: 20000000000000 }),</p></p>
<p>      total_debt: faker.datatype.number({ min: 100000000, max: 20000000000000 }),</p></p>
<p>      filing_date: faker.date.recent().toISOString().split('T')[0],</p></p>
<p>      ...overrides</p></p>
<p>    }</p></p>
<p>  }</p></p>
<p>}</p></p>
<p><code></code>`</p><p><h2>ğŸ“ˆ ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆä»•æ§˜</h2></p><p><h3>è‡ªå‹•ç”Ÿæˆãƒ¬ãƒãƒ¼ãƒˆå½¢å¼</h3></p></p>
<p><code></code>`typescript</p></p>
<p>interface TestReport {</p></p>
<p>  testSuite: string</p></p>
<p>  executionDate: string</p></p>
<p>  environment: 'development' | 'staging' | 'production'</p></p>
<p>  summary: {</p></p>
<p>    totalTests: number</p></p>
<p>    passed: number</p></p>
<p>    failed: number</p></p>
<p>    skipped: number</p></p>
<p>    duration: number</p></p>
<p>    coverage: {</p></p>
<p>      statements: number</p></p>
<p>      branches: number</p></p>
<p>      functions: number</p></p>
<p>      lines: number</p></p>
<p>    }</p></p>
<p>  }</p></p>
<p>  results: TestResult[]</p></p>
<p>  performance: {</p></p>
<p>    averageResponseTime: number</p></p>
<p>    p95ResponseTime: number</p></p>
<p>    throughput: number</p></p>
<p>    errorRate: number</p></p>
<p>  }</p></p>
<p>  security: {</p></p>
<p>    vulnerabilities: SecurityIssue[]</p></p>
<p>    score: number</p></p>
<p>  }</p></p>
<p>}</p></p>
<p><code></code>`</p><p>---</p><p><h2>ğŸ“ é€£çµ¡å…ˆãƒ»æ›´æ–°å±¥æ­´</h2></p><p>| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ›´æ–°æ—¥ | æ›´æ–°å†…å®¹ | æ›´æ–°è€… |</p></p>
<p>|------------|--------|----------|--------|</p></p>
<p>| 1.0 | 2025/7/1 | åˆç‰ˆä½œæˆ | é–‹ç™ºãƒãƒ¼ãƒ  |</p><p><strong>â€» ã“ã®ä»•æ§˜æ›¸ã¯æ©Ÿèƒ½è¿½åŠ ã«å¿œã˜ã¦è‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã™</strong></p></p>}
            </div>
        </div>

        <footer class="footer">
            <p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯è‡ªå‹•ç”Ÿæˆãƒ»æ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¨é€£å‹•ã—ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ›´æ–°ã•ã‚Œã¾ã™ã€‚</p>
        </footer>
    </div>

    <script>
        // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
        setInterval(() => {
            fetch(window.location.href)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const newDoc = parser.parseFromString(html, 'text/html');
                    
                    // çµ±è¨ˆæƒ…å ±ã®ã¿æ›´æ–°
                    const newStats = newDoc.querySelectorAll('.suite-stats, .progress-bar');
                    const currentStats = document.querySelectorAll('.suite-stats, .progress-bar');
                    
                    newStats.forEach((newStat, index) => {
                        if (currentStats[index]) {
                            currentStats[index].innerHTML = newStat.innerHTML;
                        }
                    });
                })
                .catch(err => console.log('Update failed:', err));
        }, 10000); // 10ç§’ã”ã¨

        // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆçµæœã®ç›£è¦–
        if ('WebSocket' in window) {
            const ws = new WebSocket('ws://localhost:3001/test-updates');
            ws.onmessage = (event) => {
                const data = JSON.parse(event.data);
                if (data.type === 'test-results') {
                    location.reload();
                }
            };
        }
    </script>
</body>
</html>
    