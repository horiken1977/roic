# ROIC分析アプリケーション 要件定義書

## 1. アプリケーション概要

### 1.1 目的
日系上場企業のROIC（投下資本利益率）を算出し、競合他社と比較分析できるWebアプリケーションの開発

### 1.2 対象ユーザー
- 投資家
- 金融アナリスト
- 経営コンサルタント
- 研究者

## 2. 機能要件

### 2.1 企業検索機能
- **F-001**: 企業名入力時のオートコンプリート機能
  - ユーザーが企業名を入力すると、リアルタイムで企業名候補を表示
  - 部分一致検索に対応
  - 日本語・英語両方の企業名に対応

### 2.2 有価証券報告書取得機能
- **F-002**: 選択企業の有価証券報告書自動取得
  - 企業選択後、LLMが複数年分（最低3年分）の有価証券報告書を自動取得
  - EDINET APIを使用して取得
  - 取得状況をプログレスバーで表示

### 2.3 ROIC計算機能
- **F-003**: ROIC自動計算と詳細表示
  - ROIC計算式: 投下資本回転率 × 営業利益率
  - 投下資本回転率 = 売上高 ÷ （売上債権 + 棚卸資産 + 仕入債務 + 固定資産）
  - 営業利益率 = 営業利益 ÷ 売上高
  - 計算過程の全数値を透明性を持って表示
  - 年度別のROIC推移を表示

### 2.4 競合企業リスト機能
- **F-004**: 業界内競合企業の自動リストアップ
  - 選択企業と同業界の競合企業を自動抽出
  - 業界分類は日経業種分類または東証業種分類を使用
  - 時価総額、売上高規模で類似企業を優先表示
  - ユーザーが競合企業を手動で追加・削除可能

### 2.5 競合企業ROIC計算機能
- **F-005**: 競合企業のROIC一括計算
  - 選択された競合企業すべてのROICを自動計算
  - F-002、F-003と同じ処理を競合企業に適用
  - 計算進捗をリアルタイム表示

### 2.6 比較表作成機能
- **F-006**: ROIC比較表の生成とエクスポート
  - 比較表の表示形式:
    - ROIC = 営業利益率（粗利率 - 販管費率）× 資本回転率（運転資本回転率 - 固定資産回転率）
  - 各企業の詳細数値をツリー構造で展開・折りたたみ可能
  - Excel、CSV、PDFフォーマットでエクスポート機能
  - グラフ表示機能（棒グラフ、レーダーチャート）

## 3. 非機能要件

### 3.1 パフォーマンス要件
- **NF-001**: レスポンスタイム
  - 企業検索: 500ms以内
  - ROIC計算: 1企業あたり3秒以内
  - 比較表生成: 5秒以内

### 3.2 可用性要件
- **NF-002**: システム稼働率
  - 99.5%以上の稼働率を目標
  - 計画メンテナンス時間を除く

### 3.3 セキュリティ要件
- **NF-003**: データ保護
  - HTTPSによる通信暗号化
  - ユーザー認証機能（将来実装）
  - APIレート制限の実装

### 3.4 互換性要件
- **NF-004**: ブラウザ対応
  - Chrome、Firefox、Safari、Edgeの最新版に対応
  - レスポンシブデザインでモバイル対応

## 4. データ要件

### 4.1 必要データ項目
- 企業基本情報（企業名、証券コード、業種）
- 財務データ（売上高、営業利益、売上債権、棚卸資産、仕入債務、固定資産）
- 複数年度のデータ（最低3年分）

### 4.2 データソース
- EDINET API（有価証券報告書）
- 企業マスタデータベース（自社構築）

## 5. ユーザーインターフェース要件

### 5.1 画面構成
1. **ホーム画面**: 企業検索フォーム
2. **企業詳細画面**: ROIC計算結果表示
3. **競合比較画面**: 競合企業選択と比較表表示
4. **エクスポート画面**: データ出力設定

### 5.2 ユーザビリティ要件
- 直感的な操作フロー
- ツールチップによる計算式の説明
- ドラッグ＆ドロップによる企業並び替え

## 6. 制約事項

- EDINET APIの利用制限に準拠
- 有価証券報告書の著作権に配慮
- 個人情報保護法の遵守

## 7. 将来の拡張性

- 海外企業対応
- AIによる財務分析レポート生成
- 業界平均値との比較機能
- 時系列予測機能